local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local leaderstats = player:WaitForChild("leaderstats")

local currentExp = leaderstats:WaitForChild("EXP")


-- Crear una GUI contenedora si no existe
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "EffectsGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- ID de la imagen de alas (puedes cambiar este n√∫mero por tu propia imagen)
-- Este es un icono de alas gen√©rico de Roblox
local WINGS_ICON_ID = "rbxassetid://130057163043800" -- O prueba 13418296060

local function SpawnWings()
	-- 1. Crear la imagen
	print('üïäÔ∏è SpawnWings activado')
	local icon = Instance.new("ImageLabel")
	icon.Name = "ExpWings"
	icon.Image = WINGS_ICON_ID
	icon.BackgroundTransparency = 1
	icon.Size = UDim2.new(0, 100, 0, 100) -- Tama√±o de las alas
	icon.AnchorPoint = Vector2.new(0.5, 0.5) -- Centro exacto
	icon.Position = UDim2.new(0.5, 0, 0.5, 0) -- Centro de la pantalla
	icon.ZIndex = 10
	icon.Parent = screenGui

	-- 2. Calcular direcci√≥n aleatoria
	local randomX = math.random(-200, 200)
	local randomY = math.random(-200, 200) -- Puede ir arriba o abajo

	-- Posici√≥n final a donde volar√°n
	local endPos = UDim2.new(0.5, randomX, 0.5, randomY)

	-- 3. Animaci√≥n (Mover + Desvanecer + Crecer un poco)
	local tweenInfo = TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

	local goal = {
		Position = endPos,
		ImageTransparency = 1, -- Desaparece
		Size = UDim2.new(0, 150, 0, 150), -- Crece un poco al salir
	}

	local tween = TweenService:Create(icon, tweenInfo, goal)
	tween:Play()

	-- 4. Limpieza autom√°tica
	tween.Completed:Connect(function()
		icon:Destroy()
	end)
end

currentExp.Changed:Connect(SpawnWings)
-- Escuchar el evento del servidor
